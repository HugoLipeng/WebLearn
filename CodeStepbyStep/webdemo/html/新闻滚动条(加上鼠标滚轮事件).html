<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<style>
		*{
			margin: 0;
			padding: 0;
		}

		body{
			height: 2000px;
		}

		.box{
			width: 800px;
			height: 500px;
			border: 1px solid gray;
			margin: 100px auto;
			position: relative;
			overflow: hidden;
		}

		.bar{
			width: 20px;
			height: 500px;
			background: #ddd;
			position: absolute;
			top: 0;
			right: 0;
		}

		.slidebar{
			width: 20px;
			height: 66px;
			background: orange;
			position: absolute;
			top: 0;
			left: 0;
		}

		.content{
			width: 740px;
			padding: 20px;
			position: absolute;
			top: 0;
			left: 0;
		}
	</style>
</head>
<body>
	<div class="box" id='box'>
		<div class="bar" id='bar'>
			<b class="slidebar" id="slidebar"></b>
		</div>		

		<div class="content" id="content">
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
		</div>
	</div>

	<script>
		var slidebar = document.getElementById('slidebar');
		var bar = document.getElementById('bar');
		var content = document.getElementById('content');
		var box = document.getElementById('box');

		// 计算比例
		var rate =  box.clientHeight / content.clientHeight;

		// 根据比例把滑块的高度计算出来
		var slidebarHeight = bar.clientHeight * rate;
		slidebar.style.height = slidebarHeight + 'px';

		// 声明全局变量nowtop 记录content的top值
		var nowtop = 0;

		// 在滑块上按下,实现滑块拖拽
		slidebar.onmousedown = function(event){
			// 适配IE
			event = event || window.event;
			// 计算误差
			var deltaY = event.clientY - slidebar.offsetTop;
			document.onmousemove = function(event){
				event = event || window.event;
				// 计算top值
				nowtop = event.clientY - deltaY;
				// 对top值验收
				if(nowtop < 0) nowtop = 0;
				if(nowtop >= bar.clientHeight - slidebar.clientHeight) nowtop = bar.clientHeight - slidebar.clientHeight;

				// 赋值 实现拖拽
				slidebar.style.top = nowtop + 'px';

				// content根据比例 反方向运动
				content.style.top = -nowtop / rate + 'px';

				// 干掉默认事件(不想选中文字)
				// event.preventDefault();
				return false;
			}
		}

		// 鼠标在页面任何位置抬起,停止拖拽
		document.onmouseup = function(){
			document.onmousemove = null;
		}


		// 鼠标滚轮事件
		function mouseWheelHandler(event){
			event = event || window.event;
			// 阻止默认事件 (滚轮滚动页面跟随滚动)
			if(event.preventDefault){
				event.preventDefault();
			}else{
				event.returnValue = false;
			}

			// 向上是正 向下是负
			var direction;
			if(event.wheelDelta){
				direction = event.wheelDelta > 0 ? 1 : -1;
			}else if(event.detail){
				direction = event.detail < 0 ? 1 : -1;
			}

			// console.log(direction);

			nowtop += -direction * 5;
			// 对top值验收
			if(nowtop < 0) nowtop = 0;
			if(nowtop >= bar.clientHeight - slidebar.clientHeight) nowtop = bar.clientHeight - slidebar.clientHeight;

			// 赋值 实现拖拽
			slidebar.style.top = nowtop + 'px';

			// content根据比例 反方向运动
			content.style.top = -nowtop / rate + 'px';
		}

		// 给box添加鼠标滚轮事件
		box.onmousewheel = mouseWheelHandler;
		try{
			box.addEventListener('DOMMouseScroll', mouseWheelHandler, false);
		}catch(error){

		}

	</script>
</body>
</html>