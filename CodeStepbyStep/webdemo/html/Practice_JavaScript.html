<!DOCTYPE html>
<html lang="en">

<head>
    <title>Test javascript</title>
    <style type="text/css">
        body {
            width: 2000px;
        }

        span {
            display: inline-block;
            width: 80px;
        }
    </style>
</head>

<body>
    <button>按钮</button>
    <script type="text/javascript">
        // alert("hugo for javascript");
        console.log("写技术博客的人最厉害！");
        // 基本数据类型：String number boolean null undefined

        // 在页面中接收一个用户输入的数字，并判断该数是否是质数。
        var num = prompt("请输入一个大于1的整数：");
        // 判断这个值是否合法
        if (num <= 1) {
            alert("该值不合法");
        } else {
            var flag = true;
            for (var i = 2; i < num; i++) {
                if (num % i == 0) {
                    flag = false;
                }
            }

            if (flag) {
                alert(num + "是质数！");
            } else {
                alert("这个不是质数")
            }
        }

        /*
         * 打印出1-100之间所有的质数
         */

        //打印2-100之间所有的数
        for (var i = 2; i <= 100; i++) {

            //创建一个布尔值，用来保存结果，默认i是质数
            var flag = true;

            //判断i是否是质数
            //获取到2-i之间的所有的数
            for (var j = 2; j < i; j++) {

                //判断i是否能被j整除
                if (i % j == 0) {
                    //如果进入判断则证明i不是质数,修改flag值为false
                    flag = false;
                }
            }

            //如果是质数，则打印i的值
            if (flag) {
                console.log(i);
            }

        }


        /*
         * 1.打印99乘法表
         *   1*1=1
         *   1*2=2 2*2=4
         *   1*3=3 2*3=6 3*3=9
         *   1*4=4 2*4=8 3*4=12 4*4=16
         *                      ....9*9=81
         *
         * 2.打印出1-100之间所有的质数
         */

        //创建外层循环，用来控制乘法表的高度
        for (var i = 1; i <= 9; i++) {
            //创建一个内层循环来控制图形的宽度
            for (var j = 1; j <= i; j++) {
                document.write("<span>" + j + "*" + i + "=" + i * j + "</span>");
            }

            //输出一个换行
            document.write("<br />");
        }

        var obj = new Object();
        //向obj中添加一个name属性
        obj.name = "孙悟空";
        //向obj中添加一个gender属性
        obj.gender = "男";
        //向obj中添加一个age属性
        obj.age = 18;
        console.log(JSON.stringify(obj)); // 将 obj 以字符串的形式打印出来


        var obj = new Object();
        obj.sayName = function () {
            console.log('smyhvae');
        };

        console.log(obj.sayName);  //没加括号，获取的是对象
        console.log('-----------');
        console.log(obj.sayName());  //加了括号，执行函数内容，并执行函数体的内容


        // js中的属性值，也可以是一个**对象
        var obj1 = new Object();
        obj1.test = undefined;
        var obj2 = new Object();
        obj2.name = "smyhave";
        obj1.test = obj2;
        console.log(obj1.test.name);

        // 使用对象字面量来创建一个对象 var obj = {};
        var obj3 = {
            name: "smyhvae",
            age: 26,
            gender: "男",
            address: "shenzhen"
        };

        for (var n in obj3) {
            console.log("属性名：" + n);
            console.log("属性值：" + obj[n]); // 注意，因为这里的属性名 n 是变量，所以，如果想获取属性值，不能写成 obj.n，而是要写成 obj[n]
        }


        function sum(a, b) {
            return a + b;
        }

        var fun3 = function () {
            console.log("我是匿名函数中封装的代码");
        };

        var a = 1;
        function foo() {
            console.log(a);
            a = 2;     // 此处的a相当于window.a
        }
        foo(); //打印结果是2
        console.log(a);   //打印结果是2


        // 创建一个构造函数，专门用来创建Person对象
        function Person(name, age, gender) {
            this.name = name;
            this.age = age;
            this.gender = gender;
            this.sayName = function () {
                alert(this.name);
            };
        }

        // 创建一个构造函数，专门用来创建 Dog 对象
        function Dog() { }

        var per = new Person("孙悟空", 18, "男");
        var per2 = new Person("玉兔精", 16, "女");
        var per3 = new Person("奔波霸", 38, "男");

        var dog = new Dog();

        // 数组
        var arr1 = [11, 12, 13];
        var arr2 = new Array();
        var arr3 = new Array(4);
        var arr4 = new Array(15, 16, 17);
        console.log(typeof arr1);
        console.log("arr1 = " + JSON.stringify(arr1));
        console.log("arr2 = " + JSON.stringify(arr2));
        console.log("arr3 = " + JSON.stringify(arr3));
        console.log("arr4 = " + JSON.stringify(arr4));
        // 向数组中添加元素
        arr1[0] = 10;
        arr1[1] = 20;
        arr1[2] = 22;
        arr1[3] = 44;
        console.log("arr1的长度:" + arr1.length);

        var arr = ["wang1", "wang2", "wang3"];
        arr.forEach(function (item, index, obj) {
            console.log("item:" + item);
            console.log("index:" + index);
            console.log("obj:" + obj);
            console.log("------------");
        });

        //  filter() 对数组中每一项运行回调函数，该函数返回结果是true的项，将组成新的数组（返回值就是这个新的数组）。
        var arr5 = [1, 3, 6, 2, 5, 6];

        var arr6 = arr5.filter(function (item, index) {
            return item > 4; //将arr1中大于4的元素返回
        })
        console.log(arr6);

        var arr7 = ["千古", "宿敌", "南山忆", "素颜"];

        var arr8 = arr7.filter(function (element, index, array) {
            if (element.length > 2) { //arr1中的元素，如果是长度超过2个字符的，我就把它放到arr2中去
                return true;
            }
            return false;
        });
        console.log(arr7);
        console.log(arr8);


        //冒泡排序
        var arr9 = [5, 2, 11, 3, 4, 1];

        // 自定义排序规则
        var result = arr9.sort(function (a, b) {
            return a - b; // 升序排列
            // return b - a; // 降序排列
            //  浏览器根据回调函数的返回值来决定元素的排序：（重要）
            // - 如果返回一个大于0的值，则元素会交换位置
            // - 如果返回一个小于0的值，则元素位置不变
            // - 如果返回一个0，则认为两个元素相等，则不交换位置
        });

        console.log("arr9 =" + JSON.stringify(arr9));
        console.log("result =" + JSON.stringify(result));


        // splice()练习：数组去重
        //创建一个数组
        var arr = [1, 2, 3, 2, 2, 1, 3, 4, 2, 5];

        //去除数组中重复的数字
        //获取数组中的每一个元素
        for (var i = 0; i < arr.length; i++) {
            //console.log(arr[i]);
            /*获取当前元素后的所有元素*/
            for (var j = i + 1; j < arr.length; j++) {
                //console.log("---->"+arr[j]);
                //判断两个元素的值是否相等
                if (arr[i] == arr[j]) {
                    //如果相等则证明出现了重复的元素，则删除j对应的元素
                    arr.splice(j, 1);
                    //当删除了当前j所在的元素以后，后边的元素会自动补位
                    //此时将不会在比较这个元素吧，我需要在比较一次j所在位置的元素
                    //使j自减
                    j--;
                }
            }
        }

        console.log(arr);

        
        var myDate = new Date();
        console.log(myDate);
        console.log(myDate.getDate());
        console.log(myDate.getDay());
        console.log(myDate.getMonth());
        console.log(myDate.getHours());
        console.log(myDate.getMinutes());
        console.log(myDate.getSeconds());
        console.log(myDate.getMilliseconds());
        console.log(myDate.getTime());
        
        var btn = document.getElementsByTagName("button")[0];
        //addEventListener: 事件监听器。 原事件被执行的时候，后面绑定的事件照样被执行
        //第二种事件绑定的方法不会出现层叠。（更适合团队开发）
        btn.addEventListener("click",fn1);
        btn.addEventListener("click",fn2);

        function fn1() {
            console.log("事件1");
        }

        function fn2() {
            console.log("事件2");
        }
        
        
        
        
        
    </script>
</body>

</html>