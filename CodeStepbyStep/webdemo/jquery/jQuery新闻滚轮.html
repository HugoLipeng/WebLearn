<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<style>
		*{
			margin: 0;
			padding: 0;
		}

		.box{
			width: 800px;
			height: 500px;
			border: 1px solid gray;
			margin: 100px auto;
			position: relative;
			overflow: hidden;
		}

		.bar{
			width: 20px;
			height: 500px;
			background: #ddd;
			position: absolute;
			top: 0;
			right: 0;
		}

		.slidebar{
			width: 20px;
			height: 66px;
			background: orange;
			position: absolute;
			top: 0;
			left: 0;
		}

		.content{
			width: 740px;
			padding: 20px;
			position: absolute;
			top: 0;
			left: 0;
		}
	</style>

	<link rel="stylesheet" href="../css/jquery-ui.min.css">
</head>
<body>
	<div class="box" id='box'>
		<div class="bar" id='bar'>
			<b class="slidebar" id="slidebar"></b>
		</div>		

		<div class="content" id="content">
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>

			<p>最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。最近两天，12个国家的领导人以上海的名义相聚，到青岛赴一场持续18年的“约会”。</p>
		</div>
	</div>

	<script src='../javascript/jquery-1.12.3.min.js'></script>
	<script src='../javascript/jquery-ui.min.js'></script>
	<script src='../javascript/jquery.mousewheel.min.js'></script>

	<script>
		var $slidebar = $('#slidebar');
		var $bar = $('#bar');
		var $content = $('#content');
		var $box = $('#box');

		// 计算比例
		var rate =  $box.innerHeight() / $content.innerHeight();

		// 根据比例把滑块的高度计算出来
		var slidebarHeight = bar.clientHeight * rate;
		$slidebar.css('height', slidebarHeight);

		// 声明滑块的top和content的top
		var nowtop = 0;
		var nowcontenttop = 0;

		// 计算滑块top的最大值
		var maxtop = $bar.innerHeight() - $slidebar.innerHeight();

		// 滑块的拖拽
		$slidebar.draggable({
			axis: 'y',
			containment: 'parent',
			drag: function(event, ui){
				// console.log(ui.position.top);
				nowtop = ui.position.top;
				nowcontenttop = -nowtop/rate;
				$content.css('top', nowcontenttop);
			}
		});

		// 鼠标滚轮事件
		$box.mousewheel(function(event){
			event = event || window.event;

			// 根据滚轮方向计算滑块的top
			nowtop += -event.deltaY * 5;

			// 验收
			if(nowtop < 0) nowtop = 0;
			if(nowtop > maxtop) nowtop = maxtop;
			// 设置滑块的top
			$slidebar.css('top', nowtop);

			// 计算content的top
			nowcontenttop = -nowtop/rate;
			
			// 设置content的top
			$content.css('top', nowcontenttop);
		});


	</script>
</body>
</html>